machine: 
  node:
    version: 7.7.4

dependencies:
  pre:
    - cd /tmp
    - wget https://github.com/spf13/hugo/releases/download/v0.19/hugo_0.19-64bit.deb
    - sudo dpkg -i hugo*.deb
  override: 
    - npm install -g gulp
    - npm install -g bower
    - npm link gulp
    - npm install

test:
  override:
    - echo "Tests are coming soon."

deployment:
  staging: 
    branch: develop
    commands: 
      - gulp build
      - hugo -s ./annachristoffer -b $HUGO_STAGING_HOST --config=./annachristoffer/config.staging.toml -d ../public
      - tar -zcvf public.tar.gz public/
      - scp public.tar.gz $DEPLOY_USER@$DEPLOY_STAGING_HOST:$DEPLOY_PATH

